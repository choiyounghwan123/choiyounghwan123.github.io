---
title: "[프로그래머스] 택배 상자"
excerpt: "스택을 활용한 택배 상자 문제 풀이"

categories:
  - Algorithm
tags:
  - [프로그래머스, 스택, Python]

permalink: /algorithm/delivery-box/

toc: true
toc_sticky: true

date: 2025-05-20
last_modified_at: 2025-05-20
---

# 문제 설명

택배 상자를 실어야 하는 순서가 주어졌을 때, 보조 컨테이너 벨트를 사용하여 최대한 많은 상자를 실을 수 있는 개수를 구하는 문제입니다.

- 메인 컨테이너 벨트에는 1번부터 n번까지의 상자가 순서대로 놓여 있습니다.
- 보조 컨테이너 벨트는 스택 구조로 되어 있어, 마지막에 넣은 상자부터 꺼낼 수 있습니다.
- 상자는 메인 컨테이너 벨트에서만 보조 컨테이너 벨트로 이동할 수 있습니다.
- 보조 컨테이너 벨트에서 메인 컨테이너 벨트로는 이동할 수 없습니다.

# 제한사항

- 1 ≤ order의 길이 ≤ 1,000,000
- order는 1이상 order의 길이 이하의 모든 정수가 한번씩 등장합니다.

# 입출력 예

```
입력: [5,4,3,2,1]
출력: 5
```

# 풀이 방법

이 문제는 스택을 활용하여 해결할 수 있습니다. 메인 컨테이너 벨트의 상자를 순서대로 확인하면서, 현재 실어야 하는 상자가 아닌 경우 보조 컨테이너 벨트(스택)에 넣고, 맞는 경우 실은 후 보조 컨테이너 벨트의 상자들도 확인하는 방식으로 접근합니다.

# 코드

```python
def solution(order):
    stack = []
    idx, answer = 0, 0

    for i in range(1, len(order) + 1):
        if i != order[idx]:
            stack.append(i)
        else:
            idx += 1
            while stack and order[idx] == stack[-1]:
                idx += 1
                stack.pop(-1)
    return len(order) - len(stack)
```

# 코드 설명

1. 스택을 사용하여 보조 컨테이너 벨트를 구현합니다.
2. 메인 컨테이너 벨트의 상자를 1번부터 순서대로 확인합니다.
3. 현재 상자가 실어야 하는 순서의 상자가 아닌 경우:
   - 보조 컨테이너 벨트(스택)에 넣습니다.
4. 현재 상자가 실어야 하는 순서의 상자인 경우:
   - 해당 상자를 실고
   - 보조 컨테이너 벨트의 상자들도 확인하여 실을 수 있는 상자가 있는지 확인합니다.
5. 최종적으로 실은 상자의 개수는 전체 상자 개수에서 보조 컨테이너 벨트에 남아있는 상자 개수를 뺀 값입니다.

# 시간 복잡도

- 시간 복잡도: O(n)
  - n: 상자의 개수
- 공간 복잡도: O(n)

각 상자를 최대 한 번씩만 처리하므로, 시간 복잡도는 상자의 개수에 비례합니다. 